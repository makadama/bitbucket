{"ast":null,"code":"var _jsxFileName = \"D:\\\\tests\\\\react-frontend\\\\src\\\\pages\\\\HomePage.js\";\nimport React, { Component } from 'react';\nimport ReactPaginate from 'react-paginate';\nimport { connect } from \"react-redux\";\nimport { fetchInfos } from '../actions/uscensuslearnActions';\nimport InfosPage from './InfosPage';\nimport './homepagestyle.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass HomePage extends Component {\n  constructor() {\n    super();\n    this.state = {\n      val: \"\",\n      nb_person: 0,\n      nb_line: 0,\n      loading: false,\n      currentPage: 1,\n      personPerPage: 10\n    };\n  }\n\n  componentDidMount() {\n    this.props.fetchInfos();\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    if (nextProps.infos.infos.length !== prevState.nb_person) {\n      return {\n        nb_person: nextProps.infos.infos.length\n      };\n    } else return null;\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.infos.infos.length !== this.props.infos.infos.length) {\n      //Perform some operation here\n      this.setState({\n        nb_person: this.props.infos.infos.length\n      });\n      this.props.fetchInfos();\n    }\n  }\n\n  paginate(pageNumber) {\n    this.setState({\n      currentPage: pageNumber\n    }, () => {\n      this.props.fetchInfos();\n    });\n  }\n\n  render() {\n    const {\n      infos\n    } = this.props.infos;\n    const indexOfLastInfo = this.state.currentPage * this.state.personPerPage;\n    const indexOfFirstInfo = indexOfLastInfo - this.state.personPerPage;\n    const currentInfos = infos.slice(indexOfFirstInfo, indexOfLastInfo);\n    console.log(currentInfos);\n    /*const renderInfos =currentInfos;*/\n\n    console.log(infos.length);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '1em'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container-fluid\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-2 mt-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-white p-4\",\n                  style: {\n                    backgroundColor: '#00cccb'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-home fa-6x\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 70,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                    className: \"float-right font-weight-bold\",\n                    style: {\n                      fontSize: '50px',\n                      textAlign: 'center'\n                    },\n                    children: [this.state.nb_person, /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"d-block\",\n                      children: \"rows\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 71,\n                      columnNumber: 134\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 71,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 69,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card mt-5\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \" text-white p-4 \",\n                  style: {\n                    backgroundColor: '#ed7e24'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-list-ul fa-6x\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 77,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                    className: \"float-right font-weight-bold\",\n                    style: {\n                      fontSize: '40px',\n                      textAlign: 'center'\n                    },\n                    children: [\" 8 \", /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"d-block\",\n                      children: \"columns\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 78,\n                      columnNumber: 121\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 78,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 76,\n                  columnNumber: 18\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-10 \",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                style: {\n                  backgroundColor: '#ed7e24'\n                },\n                className: \"text-white p-2 \",\n                children: \"The data\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"container d-flex justify-content-center\",\n                children: /*#__PURE__*/_jsxDEV(InfosPage, {\n                  renderInfos: currentInfos\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 12\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 6\n        }, this), infos.length > this.state.personPerPage ? /*#__PURE__*/_jsxDEV(ReactPaginate, {\n          pageCount: Math.ceil(infos.length / this.state.personPerPage),\n          pageRangeDisplayed: 2,\n          marginPagesDisplayed: 2,\n          onPageChange: data => this.paginate(data.selected + 1),\n          containerClassName: \"pagination\",\n          previousLabel: \"précédent\",\n          nextLabel: \"suivant\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 48\n        }, this) : '']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 4\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  infos: state.infos\n});\n\nexport default connect(mapStateToProps, {\n  fetchInfos\n})(HomePage);","map":{"version":3,"sources":["D:/tests/react-frontend/src/pages/HomePage.js"],"names":["React","Component","ReactPaginate","connect","fetchInfos","InfosPage","HomePage","constructor","state","val","nb_person","nb_line","loading","currentPage","personPerPage","componentDidMount","props","getDerivedStateFromProps","nextProps","prevState","infos","length","componentDidUpdate","prevProps","setState","paginate","pageNumber","render","indexOfLastInfo","indexOfFirstInfo","currentInfos","slice","console","log","marginTop","backgroundColor","fontSize","textAlign","Math","ceil","data","selected","mapStateToProps"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport ReactPaginate from 'react-paginate';\r\nimport { connect } from \"react-redux\";\r\nimport { fetchInfos } from '../actions/uscensuslearnActions';\r\nimport InfosPage from './InfosPage';\r\nimport './homepagestyle.css';\r\n\r\nclass HomePage extends Component {\r\n\tconstructor(){\r\n\t\tsuper()\r\n\t\tthis.state={\r\n\t\t\tval:\"\",\r\n\t\t\tnb_person: 0, \r\n\t\t\tnb_line: 0,\r\n\t\t\tloading: false,\r\n\t\t\tcurrentPage: 1,\r\n\t\t\tpersonPerPage: 10\r\n\t\t}\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\t\r\n\t\tthis.props.fetchInfos()\r\n\t\t\r\n\t}\r\n\t\r\n\tstatic getDerivedStateFromProps(nextProps, prevState){\r\n\t\tif(nextProps.infos.infos.length!==prevState.nb_person){\r\n\t\t  return { nb_person: nextProps.infos.infos.length};\r\n\t   }\r\n\t   else return null;\r\n\t }\r\n\t \r\n\t componentDidUpdate(prevProps, prevState) {\r\n\t   if(prevProps.infos.infos.length!==this.props.infos.infos.length){\r\n\t\t //Perform some operation here\r\n\t\t this.setState({nb_person: this.props.infos.infos.length});\r\n\t\t this.props.fetchInfos();\r\n\t   }\r\n\t }\r\n\r\n\tpaginate(pageNumber){\r\n\t\tthis.setState({\r\n\t\t\tcurrentPage: pageNumber\r\n\t\t},() => {\r\n\t\t  this.props.fetchInfos();\r\n\t\t});\r\n\t}\r\n  \r\n\r\n\trender(){\r\n\t\t\r\n\t\tconst {infos} = this.props.infos;\r\n\t\tconst indexOfLastInfo = this.state.currentPage * this.state.personPerPage;\r\n\t\tconst indexOfFirstInfo = indexOfLastInfo - this.state.personPerPage;\r\n\t\tconst currentInfos = infos.slice(indexOfFirstInfo, indexOfLastInfo);\r\n\t\tconsole.log(currentInfos);\r\n\t\t/*const renderInfos =currentInfos;*/\r\n\r\n\r\n\t\tconsole.log(infos.length)\r\n\t\treturn(\r\n\t\t\t<div>\r\n\t\t\t\t<div style={{marginTop:'1em'}}>\r\n\r\n \t\t\t\t<div className=\"container-fluid\">\r\n\t\t\t\t    <div className=\"row\"> \r\n\t\t\t\t      <div className=\"col-md-2 mt-4\">\r\n\t\t\t\t          <div className=\"card\">\r\n\t\t\t\t            <div className=\"text-white p-4\" style={{backgroundColor:'#00cccb'}}>\r\n\t\t\t\t              <i className=\"fas fa-home fa-6x\"></i>\r\n\t\t\t\t              <h2 className=\"float-right font-weight-bold\" style={{fontSize: '50px', textAlign: 'center'}}>{this.state.nb_person}<span className=\"d-block\">rows</span></h2>\r\n\t\t\t\t            </div>\r\n\t\t\t\t            \r\n\t\t\t\t          </div>\r\n\t\t\t\t          <div className=\"card mt-5\">\r\n\t\t\t\t\t            <div className=\" text-white p-4 \" style={{backgroundColor:'#ed7e24'}}>\r\n\t\t                      <i className=\"fas fa-list-ul fa-6x\"></i>\r\n\t\t                      <h2 className=\"float-right font-weight-bold\" style={{fontSize: '40px', textAlign: 'center'}}> 8 <span className=\"d-block\">columns</span></h2>\r\n\t\t                    </div>\r\n\t\t\t\t            \r\n\t\t\t\t          </div>\r\n\t\t\t\t          \r\n\t\t\t\t      </div> \r\n\t\t\t\t      <div className=\"col-10 \">\r\n\t\t\t\t        <h2 style={{backgroundColor: '#ed7e24'}} className=\"text-white p-2 \">The data</h2>\r\n\t\t\t\t        <div className=\"container d-flex justify-content-center\">\r\n\t\t\t\t        \r\n\t\t\t\t       <InfosPage renderInfos={currentInfos}/>\r\n\t\t\t\t\t         </div>\r\n\t\t\t\t    </div>\r\n\t\t\t\t      \r\n\t\t\t\t    </div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t{infos.length > this.state.personPerPage ? <ReactPaginate pageCount={Math.ceil(infos.length/this.state.personPerPage)} pageRangeDisplayed={2}  marginPagesDisplayed={2} onPageChange={(data) =>this.paginate(data.selected+1)} containerClassName={\"pagination\"} previousLabel={\"précédent\"} nextLabel={\"suivant\"}/> : ''}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t)\r\n\t}\r\n}\r\n\r\nconst mapStateToProps=state =>({\r\n\tinfos: state.infos\r\n })\r\n \r\n export default connect(\r\n   mapStateToProps, {\r\n\t fetchInfos })(HomePage)\r\n  \r\n \r\n\r\n"]},"metadata":{},"sourceType":"module"}