{"ast":null,"code":"var _jsxFileName = \"D:\\\\tests\\\\react-frontend\\\\src\\\\pages\\\\HomePage.js\";\nimport React, { Component } from 'react';\nimport ReactPaginate from 'react-paginate';\nimport { connect } from \"react-redux\";\nimport { fetchInfos } from '../actions/uscensuslearnActions';\nimport './homepagestyle.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass HomePage extends Component {\n  constructor() {\n    super();\n    this.state = {\n      val: \"\",\n      nb_person: 0,\n      nb_line: 0,\n      loading: false,\n      currentPage: 1,\n      personPerPage: 10\n    };\n  }\n\n  componentDidMount() {\n    this.props.fetchInfos();\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    if (nextProps.infos.infos.length !== prevState.nb_person) {\n      return {\n        nb_person: nextProps.infos.infos.length\n      };\n    } else return null;\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.infos.infos.length !== this.props.infos.infos.length) {\n      //Perform some operation here\n      this.setState({\n        nb_person: this.props.infos.infos.length\n      });\n      this.props.fetchInfos();\n    }\n  }\n\n  paginate(pageNumber) {\n    this.setState({\n      currentPage: pageNumber\n    }, () => {\n      this.props.fetchInfos();\n    });\n  }\n\n  render() {\n    const {\n      infos\n    } = this.props.infos;\n    const indexOfLastInfo = this.state.currentPage * this.state.logementPerPage;\n    const indexOfFirstInfo = indexOfLastInfo - this.state.logementPerPage;\n    const currentLogement = logements.slice(indexOfFirstInfo, indexOfLastInfo);\n    console.log(currentLogement);\n    const renderLogements = currentLogement.map(logement => {\n      if (logement.fk_ville === 1) {\n        this.state.val = \"Paris et île de France\";\n      } else if (logement.fk_ville === 2) {\n        this.state.val = \"Lyon\";\n      } else if (logement.fk_ville === 3) {\n        this.state.val = \"Bordeau\";\n      } else if (logement.fk_ville === 4) {\n        this.state.val = \"Marseille\";\n      }\n\n      this.state.nb_line = this.props.logement.logements.indexOf(logement) + 1;\n      return /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          children: [\" \", this.state.nb_line, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 14\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: [\" \", logement.id, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 18\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: [\" \", logement.type, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 18\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: [\" \", logement.adresse, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 18\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: [\" \", logement.code_postal, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 18\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: [\" \", this.state.val, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 18\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"a\", {\n            href: `/logements/logement/${logement.id}`,\n            className: \"btn btn-outline-secondary btn-sm rounded-0\",\n            children: \" voir plus\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 23\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 18\n        }, this)]\n      }, logement.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 19\n      }, this);\n    });\n    console.log(infos.length);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '1em'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container-fluid\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-4 mt-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-white p-4\",\n                  style: {\n                    backgroundColor: '#00cccb'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-home fa-6x\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 96,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                    className: \"float-right font-weight-bold\",\n                    style: {\n                      fontSize: '50px',\n                      textAlign: 'center'\n                    },\n                    children: [this.state.nb_person, /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"d-block\",\n                      children: \"rows\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 97,\n                      columnNumber: 134\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 97,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 95,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card mt-5\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \" text-white p-4 \",\n                  style: {\n                    backgroundColor: '#ed7e24'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-list-ul fa-6x\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 103,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                    className: \"float-right font-weight-bold\",\n                    style: {\n                      fontSize: '40px',\n                      textAlign: 'center'\n                    },\n                    children: [\"xx \", /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"d-block\",\n                      children: \"xxxxxxxxxx\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 104,\n                      columnNumber: 121\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 104,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 102,\n                  columnNumber: 18\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-8 \",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                style: {\n                  backgroundColor: '#ed7e24'\n                },\n                className: \"text-white p-2 \",\n                children: \"The data\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"container d-flex justify-content-center\",\n                children: /*#__PURE__*/_jsxDEV(\"table\", {\n                  className: \"table mt-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                    className: \"table-dark\",\n                    children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                        children: \"#\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 117,\n                        columnNumber: 19\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        children: \"id\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 118,\n                        columnNumber: 19\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        children: \"Type\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 119,\n                        columnNumber: 19\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        children: \"Adresse\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 120,\n                        columnNumber: 19\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        children: \"Code Postal\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 121,\n                        columnNumber: 19\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        children: \"Ville\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 122,\n                        columnNumber: 19\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        children: \"Action\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 123,\n                        columnNumber: 19\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 116,\n                      columnNumber: 17\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 115,\n                    columnNumber: 15\n                  }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 126,\n                    columnNumber: 15\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 114,\n                  columnNumber: 13\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 6\n        }, this), infos.length > this.state.personPerPage ? /*#__PURE__*/_jsxDEV(ReactPaginate, {\n          pageCount: Math.ceil(infos.length / this.state.personPerPage),\n          pageRangeDisplayed: 2,\n          marginPagesDisplayed: 2,\n          onPageChange: data => this.paginate(data.selected + 1),\n          containerClassName: \"pagination\",\n          previousLabel: \"précédent\",\n          nextLabel: \"suivant\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 48\n        }, this) : '']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 4\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  infos: state.infos\n});\n\nexport default connect(mapStateToProps, {\n  fetchInfos\n})(HomePage);","map":{"version":3,"sources":["D:/tests/react-frontend/src/pages/HomePage.js"],"names":["React","Component","ReactPaginate","connect","fetchInfos","HomePage","constructor","state","val","nb_person","nb_line","loading","currentPage","personPerPage","componentDidMount","props","getDerivedStateFromProps","nextProps","prevState","infos","length","componentDidUpdate","prevProps","setState","paginate","pageNumber","render","indexOfLastInfo","logementPerPage","indexOfFirstInfo","currentLogement","logements","slice","console","log","renderLogements","map","logement","fk_ville","indexOf","id","type","adresse","code_postal","marginTop","backgroundColor","fontSize","textAlign","Math","ceil","data","selected","mapStateToProps"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,aAAP,MAA0B,gBAA1B;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,UAAT,QAA2B,iCAA3B;AACA,OAAO,qBAAP;;;AAEA,MAAMC,QAAN,SAAuBJ,SAAvB,CAAiC;AAChCK,EAAAA,WAAW,GAAE;AACZ;AACA,SAAKC,KAAL,GAAW;AACVC,MAAAA,GAAG,EAAC,EADM;AAEVC,MAAAA,SAAS,EAAE,CAFD;AAGVC,MAAAA,OAAO,EAAE,CAHC;AAIVC,MAAAA,OAAO,EAAE,KAJC;AAKVC,MAAAA,WAAW,EAAE,CALH;AAMVC,MAAAA,aAAa,EAAE;AANL,KAAX;AAQA;;AACDC,EAAAA,iBAAiB,GAAE;AAElB,SAAKC,KAAL,CAAWX,UAAX;AAEA;;AAE8B,SAAxBY,wBAAwB,CAACC,SAAD,EAAYC,SAAZ,EAAsB;AACpD,QAAGD,SAAS,CAACE,KAAV,CAAgBA,KAAhB,CAAsBC,MAAtB,KAA+BF,SAAS,CAACT,SAA5C,EAAsD;AACpD,aAAO;AAAEA,QAAAA,SAAS,EAAEQ,SAAS,CAACE,KAAV,CAAgBA,KAAhB,CAAsBC;AAAnC,OAAP;AACC,KAFH,MAGO,OAAO,IAAP;AACN;;AAEDC,EAAAA,kBAAkB,CAACC,SAAD,EAAYJ,SAAZ,EAAuB;AACvC,QAAGI,SAAS,CAACH,KAAV,CAAgBA,KAAhB,CAAsBC,MAAtB,KAA+B,KAAKL,KAAL,CAAWI,KAAX,CAAiBA,KAAjB,CAAuBC,MAAzD,EAAgE;AACjE;AACA,WAAKG,QAAL,CAAc;AAACd,QAAAA,SAAS,EAAE,KAAKM,KAAL,CAAWI,KAAX,CAAiBA,KAAjB,CAAuBC;AAAnC,OAAd;AACA,WAAKL,KAAL,CAAWX,UAAX;AACE;AACF;;AAEFoB,EAAAA,QAAQ,CAACC,UAAD,EAAY;AACnB,SAAKF,QAAL,CAAc;AACbX,MAAAA,WAAW,EAAEa;AADA,KAAd,EAEE,MAAM;AACN,WAAKV,KAAL,CAAWX,UAAX;AACD,KAJD;AAKA;;AAGDsB,EAAAA,MAAM,GAAE;AAEP,UAAM;AAACP,MAAAA;AAAD,QAAU,KAAKJ,KAAL,CAAWI,KAA3B;AACA,UAAMQ,eAAe,GAAG,KAAKpB,KAAL,CAAWK,WAAX,GAAyB,KAAKL,KAAL,CAAWqB,eAA5D;AACA,UAAMC,gBAAgB,GAAGF,eAAe,GAAG,KAAKpB,KAAL,CAAWqB,eAAtD;AACA,UAAME,eAAe,GAAGC,SAAS,CAACC,KAAV,CAAgBH,gBAAhB,EAAkCF,eAAlC,CAAxB;AACAM,IAAAA,OAAO,CAACC,GAAR,CAAYJ,eAAZ;AACA,UAAMK,eAAe,GAAEL,eAAe,CAACM,GAAhB,CAAoBC,QAAQ,IAAI;AAEhD,UAAGA,QAAQ,CAACC,QAAT,KAAoB,CAAvB,EAAyB;AACrB,aAAK/B,KAAL,CAAWC,GAAX,GAAe,wBAAf;AACH,OAFD,MAGK,IAAG6B,QAAQ,CAACC,QAAT,KAAoB,CAAvB,EAAyB;AAC1B,aAAK/B,KAAL,CAAWC,GAAX,GAAe,MAAf;AACH,OAFI,MAGA,IAAG6B,QAAQ,CAACC,QAAT,KAAoB,CAAvB,EAAyB;AAC1B,aAAK/B,KAAL,CAAWC,GAAX,GAAe,SAAf;AACH,OAFI,MAGA,IAAG6B,QAAQ,CAACC,QAAT,KAAoB,CAAvB,EAAyB;AAC1B,aAAK/B,KAAL,CAAWC,GAAX,GAAe,WAAf;AACH;;AACF,WAAKD,KAAL,CAAWG,OAAX,GAAoB,KAAKK,KAAL,CAAWsB,QAAX,CAAoBN,SAApB,CAA8BQ,OAA9B,CAAsCF,QAAtC,IAAgD,CAApE;AACC,0BAAS;AAAA,gCACL;AAAA,0BAAM,KAAK9B,KAAL,CAAWG,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA,gBADK,eAED;AAAA,0BAAM2B,QAAQ,CAACG,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFC,eAGD;AAAA,0BAAMH,QAAQ,CAACI,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHC,eAID;AAAA,0BAAMJ,QAAQ,CAACK,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJC,eAKD;AAAA,0BAAML,QAAQ,CAACM,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA,gBALC,eAMD;AAAA,0BAAM,KAAKpC,KAAL,CAAWC,GAAjB;AAAA;AAAA;AAAA;AAAA;AAAA,gBANC,eAOD;AAAA,uCAAK;AAAG,YAAA,IAAI,EAAG,uBAAsB6B,QAAQ,CAACG,EAAG,EAA5C;AAA+C,YAAA,SAAS,EAAC,4CAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAL;AAAA;AAAA;AAAA;AAAA;AAAA,gBAPC;AAAA,SAASH,QAAQ,CAACG,EAAlB;AAAA;AAAA;AAAA;AAAA,cAAT;AAYH,KA3BmB,CAAvB;AA8BAP,IAAAA,OAAO,CAACC,GAAR,CAAYf,KAAK,CAACC,MAAlB;AACA,wBACC;AAAA,6BACC;AAAK,QAAA,KAAK,EAAE;AAACwB,UAAAA,SAAS,EAAC;AAAX,SAAZ;AAAA,gCAEC;AAAK,UAAA,SAAS,EAAC,iBAAf;AAAA,iCACG;AAAK,YAAA,SAAS,EAAC,KAAf;AAAA,oCACE;AAAK,cAAA,SAAS,EAAC,eAAf;AAAA,sCACI;AAAK,gBAAA,SAAS,EAAC,MAAf;AAAA,uCACE;AAAK,kBAAA,SAAS,EAAC,gBAAf;AAAgC,kBAAA,KAAK,EAAE;AAACC,oBAAAA,eAAe,EAAC;AAAjB,mBAAvC;AAAA,0CACE;AAAG,oBAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,0BADF,eAEE;AAAI,oBAAA,SAAS,EAAC,8BAAd;AAA6C,oBAAA,KAAK,EAAE;AAACC,sBAAAA,QAAQ,EAAE,MAAX;AAAmBC,sBAAAA,SAAS,EAAE;AAA9B,qBAApD;AAAA,+BAA8F,KAAKxC,KAAL,CAAWE,SAAzG,eAAmH;AAAM,sBAAA,SAAS,EAAC,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAAnH;AAAA;AAAA;AAAA;AAAA;AAAA,0BAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBADJ,eAQI;AAAK,gBAAA,SAAS,EAAC,WAAf;AAAA,uCACG;AAAK,kBAAA,SAAS,EAAC,kBAAf;AAAkC,kBAAA,KAAK,EAAE;AAACoC,oBAAAA,eAAe,EAAC;AAAjB,mBAAzC;AAAA,0CACO;AAAG,oBAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,0BADP,eAEO;AAAI,oBAAA,SAAS,EAAC,8BAAd;AAA6C,oBAAA,KAAK,EAAE;AAACC,sBAAAA,QAAQ,EAAE,MAAX;AAAmBC,sBAAAA,SAAS,EAAE;AAA9B,qBAApD;AAAA,mDAAgG;AAAM,sBAAA,SAAS,EAAC,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAAhG;AAAA;AAAA;AAAA;AAAA;AAAA,0BAFP;AAAA;AAAA;AAAA;AAAA;AAAA;AADH;AAAA;AAAA;AAAA;AAAA,sBARJ;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAkBE;AAAK,cAAA,SAAS,EAAC,QAAf;AAAA,sCACE;AAAI,gBAAA,KAAK,EAAE;AAACF,kBAAAA,eAAe,EAAE;AAAlB,iBAAX;AAAyC,gBAAA,SAAS,EAAC,iBAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE;AAAK,gBAAA,SAAS,EAAC,yCAAf;AAAA,uCAEA;AAAO,kBAAA,SAAS,EAAC,YAAjB;AAAA,0CACE;AAAO,oBAAA,SAAS,EAAC,YAAjB;AAAA,2CACE;AAAA,8CACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAHF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAJF,eAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BALF,eAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BANF,eAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAPF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,0BADF,eAYE;AAAA;AAAA;AAAA;AAAA,0BAZF;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA,sBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,oBAlBF;AAAA;AAAA;AAAA;AAAA;AAAA;AADH;AAAA;AAAA;AAAA;AAAA,gBAFD,EA+CC1B,KAAK,CAACC,MAAN,GAAe,KAAKb,KAAL,CAAWM,aAA1B,gBAA0C,QAAC,aAAD;AAAe,UAAA,SAAS,EAAEmC,IAAI,CAACC,IAAL,CAAU9B,KAAK,CAACC,MAAN,GAAa,KAAKb,KAAL,CAAWM,aAAlC,CAA1B;AAA4E,UAAA,kBAAkB,EAAE,CAAhG;AAAoG,UAAA,oBAAoB,EAAE,CAA1H;AAA6H,UAAA,YAAY,EAAGqC,IAAD,IAAS,KAAK1B,QAAL,CAAc0B,IAAI,CAACC,QAAL,GAAc,CAA5B,CAApJ;AAAoL,UAAA,kBAAkB,EAAE,YAAxM;AAAsN,UAAA,aAAa,EAAE,WAArO;AAAkP,UAAA,SAAS,EAAE;AAA7P;AAAA;AAAA;AAAA;AAAA,gBAA1C,GAAsT,EA/CvT;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,YADD;AAqDA;;AArI+B;;AAwIjC,MAAMC,eAAe,GAAC7C,KAAK,KAAI;AAC9BY,EAAAA,KAAK,EAAEZ,KAAK,CAACY;AADiB,CAAJ,CAA3B;;AAIC,eAAehB,OAAO,CACpBiD,eADoB,EACH;AAClBhD,EAAAA;AADkB,CADG,CAAP,CAEAC,QAFA,CAAf","sourcesContent":["import React, {Component} from 'react';\r\nimport ReactPaginate from 'react-paginate';\r\nimport { connect } from \"react-redux\";\r\nimport { fetchInfos } from '../actions/uscensuslearnActions';\r\nimport './homepagestyle.css';\r\n\r\nclass HomePage extends Component {\r\n\tconstructor(){\r\n\t\tsuper()\r\n\t\tthis.state={\r\n\t\t\tval:\"\",\r\n\t\t\tnb_person: 0, \r\n\t\t\tnb_line: 0,\r\n\t\t\tloading: false,\r\n\t\t\tcurrentPage: 1,\r\n\t\t\tpersonPerPage: 10\r\n\t\t}\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\t\r\n\t\tthis.props.fetchInfos()\r\n\t\t\r\n\t}\r\n\t\r\n\tstatic getDerivedStateFromProps(nextProps, prevState){\r\n\t\tif(nextProps.infos.infos.length!==prevState.nb_person){\r\n\t\t  return { nb_person: nextProps.infos.infos.length};\r\n\t   }\r\n\t   else return null;\r\n\t }\r\n\t \r\n\t componentDidUpdate(prevProps, prevState) {\r\n\t   if(prevProps.infos.infos.length!==this.props.infos.infos.length){\r\n\t\t //Perform some operation here\r\n\t\t this.setState({nb_person: this.props.infos.infos.length});\r\n\t\t this.props.fetchInfos();\r\n\t   }\r\n\t }\r\n\r\n\tpaginate(pageNumber){\r\n\t\tthis.setState({\r\n\t\t\tcurrentPage: pageNumber\r\n\t\t},() => {\r\n\t\t  this.props.fetchInfos();\r\n\t\t});\r\n\t}\r\n  \r\n\r\n\trender(){\r\n\t\t\r\n\t\tconst {infos} = this.props.infos;\r\n\t\tconst indexOfLastInfo = this.state.currentPage * this.state.logementPerPage;\r\n\t\tconst indexOfFirstInfo = indexOfLastInfo - this.state.logementPerPage;\r\n\t\tconst currentLogement = logements.slice(indexOfFirstInfo, indexOfLastInfo);\r\n\t\tconsole.log(currentLogement);\r\n\t\tconst renderLogements =currentLogement.map(logement => {\r\n\r\n\t\t\t      if(logement.fk_ville===1){\r\n\t\t\t          this.state.val=\"Paris et île de France\"\r\n\t\t\t      }\r\n\t\t\t      else if(logement.fk_ville===2){\r\n\t\t\t          this.state.val=\"Lyon\"\r\n\t\t\t      }\r\n\t\t\t      else if(logement.fk_ville===3){\r\n\t\t\t          this.state.val=\"Bordeau\"\r\n\t\t\t      }\r\n\t\t\t      else if(logement.fk_ville===4){\r\n\t\t\t          this.state.val=\"Marseille\"\r\n\t\t\t      }\r\n\t\t\t     this.state.nb_line= this.props.logement.logements.indexOf(logement)+1;\r\n\t\t\t      return ( <tr key={logement.id}>\r\n\t\t\t      \t\t  <td> {this.state.nb_line} </td>\r\n\t\t\t              <td> {logement.id} </td>\r\n\t\t\t              <td> {logement.type} </td>\r\n\t\t\t              <td> {logement.adresse} </td>\r\n\t\t\t              <td> {logement.code_postal} </td>\r\n\t\t\t              <td> {this.state.val} </td>\r\n\t\t\t              <td> <a href={`/logements/logement/${logement.id}`} className=\"btn btn-outline-secondary btn-sm rounded-0\"> voir plus</a> </td>\r\n\t\t\t              \r\n\t\t\t            </tr>\r\n\r\n\t\t\t        );\r\n    \t});\r\n\r\n\r\n\t\tconsole.log(infos.length)\r\n\t\treturn(\r\n\t\t\t<div>\r\n\t\t\t\t<div style={{marginTop:'1em'}}>\r\n\r\n \t\t\t\t<div className=\"container-fluid\">\r\n\t\t\t\t    <div className=\"row\"> \r\n\t\t\t\t      <div className=\"col-md-4 mt-4\">\r\n\t\t\t\t          <div className=\"card\">\r\n\t\t\t\t            <div className=\"text-white p-4\" style={{backgroundColor:'#00cccb'}}>\r\n\t\t\t\t              <i className=\"fas fa-home fa-6x\"></i>\r\n\t\t\t\t              <h2 className=\"float-right font-weight-bold\" style={{fontSize: '50px', textAlign: 'center'}}>{this.state.nb_person}<span className=\"d-block\">rows</span></h2>\r\n\t\t\t\t            </div>\r\n\t\t\t\t            \r\n\t\t\t\t          </div>\r\n\t\t\t\t          <div className=\"card mt-5\">\r\n\t\t\t\t\t            <div className=\" text-white p-4 \" style={{backgroundColor:'#ed7e24'}}>\r\n\t\t                      <i className=\"fas fa-list-ul fa-6x\"></i>\r\n\t\t                      <h2 className=\"float-right font-weight-bold\" style={{fontSize: '40px', textAlign: 'center'}}>xx <span className=\"d-block\">xxxxxxxxxx</span></h2>\r\n\t\t                    </div>\r\n\t\t\t\t            \r\n\t\t\t\t          </div>\r\n\t\t\t\t          \r\n\t\t\t\t      </div> \r\n\t\t\t\t      <div className=\"col-8 \">\r\n\t\t\t\t        <h2 style={{backgroundColor: '#ed7e24'}} className=\"text-white p-2 \">The data</h2>\r\n\t\t\t\t        <div className=\"container d-flex justify-content-center\">\r\n\t\t\t\t        \r\n\t\t\t\t        <table className=\"table mt-3\">\r\n\t\t\t\t          <thead className=\"table-dark\">\r\n\t\t\t\t            <tr>\r\n\t\t\t\t              <th>#</th>\r\n\t\t\t\t              <th>id</th>\r\n\t\t\t\t              <th>Type</th>\r\n\t\t\t\t              <th>Adresse</th>\r\n\t\t\t\t              <th>Code Postal</th>\r\n\t\t\t\t              <th>Ville</th>\r\n\t\t\t\t              <th>Action</th>\r\n\t\t\t\t            </tr>\r\n\t\t\t\t          </thead>\r\n\t\t\t\t          <tbody>\r\n\r\n\t\t\t\t          </tbody>\r\n\t\t\t\t        </table>\r\n\t\t\t\t      </div>\r\n\t\t\t\t    </div>\r\n\t\t\t\t      \r\n\t\t\t\t    </div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t{infos.length > this.state.personPerPage ? <ReactPaginate pageCount={Math.ceil(infos.length/this.state.personPerPage)} pageRangeDisplayed={2}  marginPagesDisplayed={2} onPageChange={(data) =>this.paginate(data.selected+1)} containerClassName={\"pagination\"} previousLabel={\"précédent\"} nextLabel={\"suivant\"}/> : ''}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t)\r\n\t}\r\n}\r\n\r\nconst mapStateToProps=state =>({\r\n\tinfos: state.infos\r\n })\r\n \r\n export default connect(\r\n   mapStateToProps, {\r\n\t fetchInfos })(HomePage)\r\n  \r\n \r\n\r\n"]},"metadata":{},"sourceType":"module"}